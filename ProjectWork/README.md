                                                              Курс "Дизайн сетей ЦОД" - OTUS.ru  

                                                              ПРОЕКТНАЯ РАБОТА  
                                             "Проектирование сетевой фабрики на основне VxLAN EVPN"  

   ***ЦЕЛЬ:*** В существующей сетевой инфраструктуре развернуть резервную VxLAN фабрику в модели MultiPod. 

   ***ПРИМЕНЕННЫЕ ТЕХНОЛОГИИ:*** VxLAN, L2VPN, L3VPN, vPC. 


**1. СХЕМА СЕТИ**

![](Scheme/Scheme.png)  

**2. ТАБЛИЦЫ АДРЕСАЦИИ**

   **POD1 (MAIN)**  

|      Spine1-1         |     Spine1-2           |         Leaf1-1        |       Leaf1-2          |      Leaf1-3          |       Leaf1-4        | 
|-----------------------|------------------------|------------------------|------------------------|-----------------------|----------------------| 
| Eth1/1 10.0.251.0/31  | Eth1/1 10.0.252.0/31   | Eth1/1 10.0.251.1/31   | Eth1/1 10.0.251.3/31   | Eth1/1 10.0.251.5/31  | Eth1/1 10.0.251.7/31 | 
| Eth1/2 10.0.251.2/31  | Eth1/2 10.0.252.2/31   | Eth1/2 10.0.252.1/31   | Eth1/2 10.0.252.3/31   | Eth1/2 10.0.252.5/31  | Eth1/2 10.0.252.7/31 | 
| Eth1/3 10.0.251.4/31  | Eth1/3 10.0.252.4/31   | Eth1/5 192.168.0.9     | Eth1/5192.168.0.10     | Eth1/5 192.168.0.13   | Eth1/5 192.168.0.14  | 
| Eth1/4 10.0.251.6/31  | Eth1/4 10.0.252.6/31   | Eth1/6    TRUNK        | Eth1/6    TRUNK        | Eth1/6    TRUNK       | Eth1/6    TRUNK      | 
| Eth1/6 172.16.0.0/31  | Eth1/6 172.16.0.2/31   |                        |                        |                       |                      | 
|                       |                        |                        |                        |                       |                      | 
| Lo0 10.255.0.1/32     | Lo0 10.255.0.2/32      | Lo0 10.255.11.1/32     | Lo0 10.255.11.2/32     | Lo0 10.255.11.3/32    | Lo0 10.255.11.4/32   | 
|                       |                        | Lo5 10.255.5.101/32    | Lo5 10.255.5.102/32    | Lo5 10.255.5.103/32   | Lo5 10.255.5.104/32  | 

                                                     Адресация VPC             

|         VLAN          |      VPC14             |         VPC15          |          VPC16         |         VPC19          |  
|-----------------------|------------------------|------------------------|------------------------|------------------------|  
|   VLAN **2** (GW .1)  |                        |                        |                        |  e0/0 192.168.2.20/24  |    
|   VLAN **12** (GW .1) |   192.168.12.10/24     |                        |                        |                        |   
|   VLAN **15** (GW .1) |                        |   192.168.15.10/24     |    192.168.15.20/24    |                        |   

   **POD2 (RESERVE)**    

|      Spine2-1         |     Spine2-2           |         Leaf2-1        |       Leaf2-2          |
|-----------------------|------------------------|------------------------|------------------------|
| Eth1/1 10.5.251.0/31  | Eth1/1 10.5.252.0/31   | Eth1/1 10.5.251.1/31   | Eth1/1 10.5.251.3/31   |
| Eth1/2 10.5.251.2/31  | Eth1/2 10.5.252.2/31   | Eth1/2 10.5.252.1/31   | Eth1/2 10.5.252.3/31   |
| Eth1/6 172.16.0.1/31  | Eth1/6 172.16.0.3/31   | Eth1/5 192.168.0.17    | Eth1/5 192.168.0.18    |
|                       |                        | Eth1/6    TRUNK        | Eth1/6    TRUNK        |
|                       |                        |                        |                        |
|                       |                        |                        |                        |
| Lo0 10.255.5.1/32     | Lo0 10.255.5.2/32      | Lo0 10.255.21.1/32     | Lo0 10.255.21.2/32     |
|                       |                        | Lo5 10.255.5.105/32    | Lo5 10.255.5.106/32    |

                                               
   **Автономные системы BGP (ASN)**  

|      POD1 (MAIN)      |    POD2 (RESERVE)     |
|-----------------------|-----------------------|
|       ASN 65020       |      ASN 65010        |


**2. КОНФИГУРАЦИЯ ОБОРУДОВАНИЯ**

**POD1 (Main)**  

Spine1-1 - [Здесь](Configs/Spine1-1.txt)  
Spine1-2 - [Здесь](Configs/Spine1-2.txt)  
Leaf1-1 -  [Здесь](Configs/Leaf1-1.txt)  
Leaf1-2 -  [Здесь](Configs/Leaf1-2.txt)  
Leaf1-3 -  [Здесь](Configs/Leaf1-3.txt)  
Leaf1-4 -  [Здесь](Configs/Leaf1-4.txt)  

**POD2 (Reserve)**  

Spine2-1 - [Здесь](Configs/Spine2-1.txt)  
Spine2-2 - [Здесь](Configs/Spine2-2.txt)  
Leaf2-1 -  [Здесь](Configs/Leaf2-1.txt)  
Leaf2-2 -  [Здесь](Configs/Leaf2-2.txt)  

**3. ПРОВЕРКА НАСТРОЕК**  
